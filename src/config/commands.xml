<?xml version="1.0"?>
<commands xmlns="http://technosophos.com/2009/1.1/commands.xml">
  
  <!-- 
  <include path="test/Tests"/>  
  -->
  
  <group name="bootstrap">
    <cmd name="lanternDB" invoke="LanternDB">
      <!--param name="server">mongodb://user:pass@localhost:27017</param-->
      <param name="server">mongodb://localhost:27017</param>
    </cmd>
    <cmd name="db" invoke="LanternSelectDB">
      <param name="databaseName">LanternNotes</param>
      <param name="databaseConnection" from="cxt:lanternDB"/>
    </cmd>
    <cmd name="init" invoke="LanternInitialize"/>
  </group>
  
  <request name="install">
    <cmd name="mainInstaller" invoke="LanternInstaller"/>
  </request>
  
  <request name="uninstall">
    <cmd group="bootstrap"/>
    <cmd name="uninstallAll" invoke="LanternUninstall"/>
  </request>
     
     
  <!-- The default request will be executed when the index is loaded. -->
  <request name="default">    
    <!-- Invoke all commands in the bootstrap group. -->
    <cmd group="bootstrap"/>
    
    
    <cmd name="dump" invoke="FortissimoContextDump">
      <param name="html">true</param>
      <!--param name="item">db</param-->
    </cmd>
    
    
    <cmd name="echo" invoke="FortissimoEcho">
      <param name="text">Fortissimo has been successfully installed.</param>
    </cmd>
    
  </request>
  
  <!-- Logs directly into STDOUT (the browser, the console). -->
  <logger name="foil" invoke="FortissimoOutputInjectionLogger"/>
  
  <!-- Buffers log messages in an array to be retrieved later. 
  <logger name="fail" invoke="FortissimoArrayInjectionLogger"/>
  -->
  
  <!--
  Fortissimo supports global caches, though this is currently
  experimental.
  <cache name="dummy" invoke="FortissimoDummyRequestCache"/>
  <cache name="dummy2" invoke="FortissimoDummyRequestCache">
    <param name="param" value="foo"/>
  </cache>
  -->
</commands>